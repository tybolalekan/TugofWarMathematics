<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tug of War Mathematics</title>

  <!-- PWA Manifest for installation support -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Font prefetching for better performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
</head>

<body>
  <div id="app">
    <div id="game-container">
      <!-- Dashboard / Start Screen -->
      <div id="dashboard" class="screen">
        <h1>Tug of War <br><span>Mathematics</span></h1>

        <div class="mode-selector">
          <button id="single-player-mode" class="mode-btn active">Single Player</button>
          <button id="two-player-mode" class="mode-btn">Two Player</button>
        </div>

        <p id="mode-description">Face off against the computer!</p>

        <div class="operation-grid">
          <button class="op-btn" data-operation="addition">Addition (+)</button>
          <button class="op-btn" data-operation="subtraction">Subtraction (-)</button>
          <button class="op-btn" data-operation="multiplication">Multiplication (ร)</button>
          <button class="op-btn" data-operation="division">Division (รท)</button>
        </div>

        <div class="level-selector">
          <label>Level:</label>
          <select id="level-select">
            <option value="1">1 (Easy)</option>
            <option value="2">2 (Medium)</option>
            <option value="3">3 (Hard)</option>
          </select>
        </div>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="screen hidden">
        <div class="game-header">
          <button id="back-to-menu">Menu</button>
          <div id="timer-display">Time: 0s</div>
        </div>

        <div class="arena">
          <div class="characters-container">
            <div id="p1-character" class="character p1-pull"></div>
            <div id="opponent-character" class="character opponent-pull"></div>
          </div>
          <div id="tug-of-war-rope">
            <div id="rope-visual"></div>
            <div id="rope-marker"></div>
            <div class="side player-side">PLAYER 1</div>
            <div class="side opponent-side" id="opponent-label">COMPUTER</div>
          </div>
        </div>

        <!-- Single Player Question Area -->
        <div id="single-player-question" class="question-container">
          <div class="question-text">? + ?</div>
          <div class="answer-area">
            <input type="number" class="answer-input" placeholder="?" autocomplete="off">
            <button class="submit-btn">PULL!</button>
          </div>
        </div>

        <!-- Two Player Question Area -->
        <div id="two-player-questions" class="question-container split-screen hidden">
          <div class="player-box left-player">
            <div class="player-label">P1</div>
            <div class="question-text">? + ?</div>
            <div class="answer-area">
              <input type="number" class="answer-input" data-player="1" placeholder="?" autocomplete="off">
              <button class="submit-btn" data-player="1">P1 PULL!</button>
            </div>
          </div>
          <div class="player-box right-player">
            <div class="player-label">P2</div>
            <div class="question-text">? + ?</div>
            <div class="answer-area">
              <input type="number" class="answer-input" data-player="2" placeholder="?" autocomplete="off">
              <button class="submit-btn" data-player="2">P2 PULL!</button>
            </div>
          </div>
        </div>
      </div>

      <!-- End Screen -->
      <div id="result-screen" class="screen hidden">
        <h2 id="result-title">Result</h2>
        <p id="result-message"></p>
        <button id="play-again-btn">Play Again</button>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>